<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>agents 命令 - OpenClaw 文档</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>OpenClaw 文档</h1>
            </div>
            <nav>
                <div class="nav-section">
                    <h2>入门指南</h2>
                    <ul class="nav-links">
                        <li><a href="index.html">什么是 OpenClaw</a></li>
                        <li><a href="getting-started.html">快速开始</a></li>
                        <li><a href="installation.html">安装指南</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h2>核心命令</h2>
                    <ul class="nav-links">
                        <li><a href="gateway.html">gateway</a></li>
                        <li><a href="config.html">config</a></li>
                        <li><a href="setup.html">setup</a></li>
                        <li><a href="message.html">message</a></li>
                        <li><a href="channels.html">channels</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h2>高级功能</h2>
                    <ul class="nav-links">
                        <li><a href="agents.html" class="active">agents</a></li>
                        <li><a href="cron.html">cron</a></li>
                        <li><a href="browser.html">browser</a></li>
                        <li><a href="skills.html">skills</a></li>
                        <li><a href="models.html">models</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h2>系统管理</h2>
                    <ul class="nav-links">
                        <li><a href="status.html">status</a></li>
                        <li><a href="health.html">health</a></li>
                        <li><a href="logs.html">logs</a></li>
                        <li><a href="security.html">security</a></li>
                        <li><a href="update.html">update</a></li>
                    </ul>
                </div>
            </nav>
        </aside>
        <main class="main-content">
            <div class="header">
                <h1>agents 命令</h1>
                <p>管理隔离的 AI 代理工作区、认证和路由</p>
            </div>

            <div class="content-section">
                <h2>命令概述</h2>
                <p><code>agents</code> 命令用于管理 OpenClaw 的隔离代理系统。每个代理都有独立的工作区、配置和权限，适合多用户环境或需要隔离不同任务的场景。</p>
                
                <div class="examples">
                    <h3>核心概念</h3>
                    <ul>
                        <li><strong>工作区 (Workspace)</strong>: 每个代理的独立存储空间</li>
                        <li><strong>认证 (Auth)</strong>: 代理的身份验证和权限管理</li>
                        <li><strong>路由 (Routing)</strong>: 消息如何在不同代理间分发</li>
                        <li><strong>隔离 (Isolation)</strong>: 确保代理间的资源和数据分离</li>
                    </ul>
                </div>
            </div>

            <div class="content-section">
                <h2>子命令列表</h2>
                
                <ul class="command-list">
                    <li><code>agents list</code> - 列出所有已配置的代理</li>
                    <li><code>agents create &lt;name&gt;</code> - 创建新的代理</li>
                    <li><code>agents delete &lt;name&gt;</code> - 删除指定代理</li>
                    <li><code>agents switch &lt;name&gt;</code> - 切换到指定代理</li>
                    <li><code>agents current</code> - 显示当前激活的代理</li>
                    <li><code>agents workspace &lt;name&gt;</code> - 管理代理的工作区</li>
                    <li><code>agents auth &lt;name&gt;</code> - 管理代理的认证信息</li>
                    <li><code>agents routes &lt;name&gt;</code> - 配置代理的消息路由</li>
                </ul>
            </div>

            <div class="content-section">
                <h2>创建和管理代理</h2>
                
                <h3>创建新代理</h3>
                <pre><code># 创建名为 "dev-team" 的代理
openclaw agents create dev-team

# 创建代理并指定工作区路径
openclaw agents create production --workspace /opt/openclaw/prod

# 创建代理并设置默认模型
openclaw agents create support --model "gpt-4"</code></pre>

                <h3>切换代理</h3>
                <pre><code># 切换到 dev-team 代理
openclaw agents switch dev-team

# 查看当前代理
openclaw agents current

# 列出所有代理
openclaw agents list</code></pre>

                <h3>删除代理</h3>
                <pre><code># 删除 test 代理（会提示确认）
openclaw agents delete test

# 强制删除代理（不提示确认）
openclaw agents delete test --force</code></pre>
            </div>

            <div class="content-section">
                <h2>工作区管理</h2>
                <p>每个代理都有独立的工作区，包含配置文件、记忆文件和临时数据：</p>
                
                <pre><code># 查看代理工作区信息
openclaw agents workspace dev-team info

# 备份代理工作区
openclaw agents workspace dev-team backup --path /backup/dev-team.tar.gz

# 恢复代理工作区
openclaw agents workspace dev-team restore --path /backup/dev-team.tar.gz

# 清理代理工作区（删除临时文件）
openclaw agents workspace dev-team clean</code></pre>

                <div class="warning">
                    <h3>重要提示</h3>
                    <p>工作区包含敏感数据和配置信息。在备份或迁移时，请确保适当的安全措施。</p>
                </div>
            </div>

            <div class="content-section">
                <h2>认证管理</h2>
                <p>代理认证管理支持多种身份验证方式：</p>
                
                <h3>API 密钥管理</h3>
                <pre><code># 为代理设置 API 密钥
openclaw agents auth dev-team set-api-key sk-xxxxxxxxxxxxxx

# 查看代理的认证状态
openclaw agents auth dev-team status

# 重置代理认证
openclaw agents auth dev-team reset</code></pre>

                <h3>OAuth 集成</h3>
                <pre><code># 为代理配置 OAuth
openclaw agents auth dev-team oauth --provider google --client-id xxx

# 列出 OAuth 配置
openclaw agents auth dev-team oauth list</code></pre>
            </div>

            <div class="content-section">
                <h2>消息路由</h2>
                <p>代理路由允许您控制消息如何在不同代理间分发：</p>
                
                <h3>基本路由配置</h3>
                <pre><code># 设置默认路由到 dev-team 代理
openclaw agents routes default set dev-team

# 为特定渠道设置路由
openclaw agents routes channel telegram set support-team

# 为特定用户设置路由
openclaw agents routes user @admin set admin-agent</code></pre>

                <h3>高级路由规则</h3>
                <pre><code># 基于关键词的路由
openclaw agents routes keyword "urgent" set priority-agent

# 基于时间的路由
openclaw agents routes schedule --start "09:00" --end "17:00" set business-hours

# 基于消息类型的路由
openclaw agents routes type image set media-agent</code></pre>
            </div>

            <div class="content-section">
                <h2>使用场景</h2>
                
                <h3>多团队协作</h3>
                <p>为不同的团队创建独立的代理，每个团队有自己的工作区和权限：</p>
                <pre><code>openclaw agents create engineering
openclaw agents create marketing  
openclaw agents create support</code></pre>

                <h3>开发和生产环境分离</h3>
                <p>使用不同的代理处理开发和生产环境的消息：</p>
                <pre><code>openclaw agents create dev --model "gpt-3.5-turbo"
openclaw agents create prod --model "gpt-4"</code></pre>

                <h3>客户支持分级</h3>
                <p>根据客户等级或问题类型路由到不同的支持代理：</p>
                <pre><code>openclaw agents create tier1-support
openclaw agents create tier2-support
openclaw agents create vip-support</code></pre>
            </div>

            <div class="content-section">
                <h2>最佳实践</h2>
                
                <ul>
                    <li><strong>命名规范</strong>: 使用清晰、一致的代理命名约定</li>
                    <li><strong>权限最小化</strong>: 只给代理必要的权限和访问权限</li>
                    <li><strong>定期清理</strong>: 定期清理不再使用的代理和工作区</li>
                    <li><strong>监控使用</strong>: 监控各代理的资源使用和消息量</li>
                    <li><strong>备份策略</strong>: 为重要的代理工作区制定备份策略</li>
                </ul>

                <div class="examples">
                    <h3>自动化代理管理脚本</h3>
                    <pre><code>#!/bin/bash
# 自动创建项目代理
PROJECT_NAME=$1
openclaw agents create ${PROJECT_NAME}-agent \
    --workspace ~/.openclaw/projects/${PROJECT_NAME} \
    --model "gpt-4" \
    --channel telegram

echo "代理 ${PROJECT_NAME}-agent 创建完成"</code></pre>
                </div>
            </div>

            <div class="footer">
                <p>© 2026 OpenClaw 文档 | <a href="https://docs.openclaw.ai" target="_blank">官方文档</a></p>
            </div>
        </main>
    </div>
</body>
</html>