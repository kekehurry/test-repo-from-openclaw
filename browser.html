<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>browser 命令 - OpenClaw 文档</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>OpenClaw 文档</h1>
            </div>
            <nav>
                <div class="nav-section">
                    <h2>入门指南</h2>
                    <ul class="nav-links">
                        <li><a href="index.html">什么是 OpenClaw</a></li>
                        <li><a href="getting-started.html">快速开始</a></li>
                        <li><a href="installation.html">安装指南</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h2>核心命令</h2>
                    <ul class="nav-links">
                        <li><a href="gateway.html">gateway</a></li>
                        <li><a href="config.html">config</a></li>
                        <li><a href="setup.html">setup</a></li>
                        <li><a href="message.html">message</a></li>
                        <li><a href="channels.html">channels</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h2>高级功能</h2>
                    <ul class="nav-links">
                        <li><a href="agents.html">agents</a></li>
                        <li><a href="cron.html">cron</a></li>
                        <li><a href="browser.html" class="active">browser</a></li>
                        <li><a href="skills.html">skills</a></li>
                        <li><a href="models.html">models</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h2>系统管理</h2>
                    <ul class="nav-links">
                        <li><a href="status.html">status</a></li>
                        <li><a href="health.html">health</a></li>
                        <li><a href="logs.html">logs</a></li>
                        <li><a href="security.html">security</a></li>
                        <li><a href="update.html">update</a></li>
                    </ul>
                </div>
            </nav>
        </aside>
        <main class="main-content">
            <div class="header">
                <h1>browser 命令</h1>
                <p>管理和控制 OpenClaw 的专用浏览器（基于 Chrome/Chromium）</p>
            </div>

            <div class="content-section">
                <h2>命令概述</h2>
                <p><code>browser</code> 命令提供了对 OpenClaw 内置浏览器的完整控制。这个浏览器基于 Chrome/Chromium，支持自动化测试、网页抓取、UI 自动化等高级功能。</p>
                
                <div class="examples">
                    <h3>核心功能</h3>
                    <ul>
                        <li><strong>无头浏览器</strong>: 在后台运行，无需显示界面</li>
                        <li><strong>UI 自动化</strong>: 自动点击、输入、导航等操作</li>
                        <li><strong>截图和 PDF</strong>: 生成网页截图和 PDF 文档</li>
                        <li><strong>网络监控</strong>: 捕获和分析网络请求</li>
                        <li><strong>多标签页</strong>: 同时管理多个浏览器标签页</li>
                    </ul>
                </div>
            </div>

            <div class="content-section">
                <h2>子命令列表</h2>
                
                <ul class="command-list">
                    <li><code>browser start</code> - 启动浏览器服务</li>
                    <li><code>browser stop</code> - 停止浏览器服务</li>
                    <li><code>browser status</code> - 查看浏览器状态</li>
                    <li><code>browser open &lt;url&gt;</code> - 打开新页面</li>
                    <li><code>browser screenshot</code> - 截取当前页面</li>
                    <li><code>browser pdf</code> - 生成 PDF 文档</li>
                    <li><code>browser navigate</code> - 导航到指定 URL</li>
                    <li><code>browser click</code> - 点击页面元素</li>
                    <li><code>browser type</code> - 在输入框中输入文本</li>
                    <li><code>browser snapshot</code> - 获取页面结构快照</li>
                </ul>
            </div>

            <div class="content-section">
                <h2>启动和管理浏览器</h2>
                
                <h3>启动浏览器</h3>
                <pre><code># 启动无头浏览器（默认）
openclaw browser start

# 启动带界面的浏览器（用于调试）
openclaw browser start --headed

# 指定浏览器端口
openclaw browser start --port 9222

# 使用特定的 Chrome 路径
openclaw browser start --chrome-path /usr/bin/google-chrome</code></pre>

                <h3>查看状态和停止</h3>
                <pre><code># 查看浏览器状态
openclaw browser status

# 停止浏览器服务
openclaw browser stop

# 强制停止（不等待清理）
openclaw browser stop --force</code></pre>
            </div>

            <div class="content-section">
                <h2>页面操作</h2>
                
                <h3>打开和导航</h3>
                <pre><code># 打开新页面
openclaw browser open https://example.com

# 导航到新 URL
openclaw browser navigate https://google.com

# 刷新当前页面
openclaw browser navigate --refresh

# 返回上一页
openclaw browser navigate --back

# 前进到下一页  
openclaw browser navigate --forward</code></pre>

                <h3>交互操作</h3>
                <pre><code># 点击元素（通过 CSS 选择器）
openclaw browser click "button.submit-btn"

# 点击元素（通过文本内容）
openclaw browser click --text "登录"

# 在输入框中输入文本
openclaw browser type "#username" "myuser"
openclaw browser type "#password" "mypass" --secret

# 清空输入框
openclaw browser type "#search" "" --clear

# 悬停在元素上
openclaw browser hover ".dropdown-menu"</code></pre>
            </div>

            <div class="content-section">
                <h2>截图和文档生成</h2>
                
                <h3>截图功能</h3>
                <pre><code># 截取完整页面
openclaw browser screenshot --full-page --output page.png

# 截取可视区域
openclaw browser screenshot --output viewport.png

# 截取特定元素
openclaw browser screenshot --selector ".header" --output header.png

# 设置截图质量
openclaw browser screenshot --quality 90 --output high-quality.png</code></pre>

                <h3>PDF 生成</h3>
                <pre><code># 生成完整页面 PDF
openclaw browser pdf --output document.pdf

# 设置 PDF 格式
openclaw browser pdf --format A4 --output report.pdf

# 添加页眉页脚
openclaw browser pdf --header "报告标题" --footer "第 {page} 页" --output formatted.pdf

# 设置边距
openclaw browser pdf --margin 20 --output spaced.pdf</code></pre>
            </div>

            <div class="content-section">
                <h2>高级功能</h2>
                
                <h3>页面快照和分析</h3>
                <pre><code># 获取页面结构快照
openclaw browser snapshot --output snapshot.json

# 获取可访问性信息
openclaw browser snapshot --accessibility --output a11y.json

# 获取性能指标
openclaw browser snapshot --performance --output metrics.json</code></pre>

                <h3>网络请求监控</h3>
                <pre><code># 捕获所有网络请求
openclaw browser network --capture --output requests.json

# 过滤特定类型的请求
openclaw browser network --filter "xhr" --output api-calls.json

# 分析页面加载性能
openclaw browser network --performance --output load-time.json</code></pre>

                <h3>Cookie 和存储管理</h3>
                <pre><code># 获取所有 Cookie
openclaw browser cookies --get --output cookies.json

# 设置 Cookie
openclaw browser cookies --set "session=abc123" --domain example.com

# 清除本地存储
openclaw browser storage --clear --type localstorage

# 导出 IndexedDB 数据
openclaw browser storage --export --type indexeddb --output db.json</code></pre>
            </div>

            <div class="content-section">
                <h2>自动化脚本示例</h2>
                
                <h3>Web Scraping 脚本</h3>
                <pre><code>#!/bin/bash
# 自动化数据抓取
openclaw browser start
openclaw browser open https://news-site.com
openclaw browser wait --selector ".article-title" --timeout 10000
openclaw browser snapshot --selector ".articles" --output news.json
openclaw browser stop

# 处理抓取的数据
python process_news.py news.json</code></pre>

                <h3>UI 测试脚本</h3>
                <pre><code>#!/bin/bash
# 登录流程测试
openclaw browser start
openclaw browser open https://app.example.com/login
openclaw browser type "#email" "test@example.com"
openclaw browser type "#password" "testpass" --secret
openclaw browser click "button[type='submit']"
openclaw browser wait --text "欢迎" --timeout 5000

# 验证登录成功
if openclaw browser exists --text "欢迎"; then
    echo "✅ 登录测试通过"
    openclaw message send --target @tester --message "登录测试通过"
else
    echo "❌ 登录测试失败"
    openclaw message send --target @tester --message "登录测试失败"
fi

openclaw browser stop</code></pre>
            </div>

            <div class="content-section">
                <h2>故障排除</h2>
                
                <div class="warning">
                    <h3>常见问题</h3>
                    <ul>
                        <li><strong>浏览器启动失败</strong>: 检查 Chrome/Chromium 是否已安装，或指定正确的路径</li>
                        <li><strong>元素找不到</strong>: 确保页面已完全加载，使用适当的等待策略</li>
                        <li><strong>内存不足</strong>: 无头浏览器可能消耗大量内存，考虑增加系统内存或优化脚本</li>
                        <li><strong>网络超时</strong>: 调整超时设置或检查网络连接</li>
                    </ul>
                </div>

                <h3>调试技巧</h3>
                <pre><code># 启用详细日志
openclaw browser start --verbose

# 使用带界面模式进行调试
openclaw browser start --headed --slow-motion

# 捕获浏览器控制台日志
openclaw browser console --output console.log

# 保存页面 HTML 用于分析
openclaw browser html --output debug.html</code></pre>
            </div>

            <div class="footer">
                <p>© 2026 OpenClaw 文档 | <a href="https://docs.openclaw.ai" target="_blank">官方文档</a></p>
            </div>
        </main>
    </div>
</body>
</html>